{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const url = 'https://pixabay.com/api/';\n\nexport async function getImages(keyword) {\n  const params = new URLSearchParams({\n    key: '42543975-3eca36a47ffade116cf6655c4',\n    q: keyword,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const promise = await fetch(url + '?' + params.toString());\n  const data = await promise.json();\n\n  return data.hits;\n}\n\n// const data = fetch(url + '?' + params.toString()).then(e => e.json());\n","function createLi({ title, value }) {\n  return `<li class=\"flex-col flex-center\">\n            <span class=\"bold\">${title}</span>\n            <span>${value}</span>\n        </li>`;\n}\n\nfunction createItem({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  let list = [\n    { title: 'Likes', value: likes },\n    { title: 'Views', value: views },\n    { title: 'Comments', value: comments },\n    { title: 'Downloads', value: downloads },\n  ];\n\n  return `\n    <a href=\"${largeImageURL}\"  class=\"b-1 bc-gray over-hidden r-10\">\n        <img alt=\"${tags}\" src=\"${webformatURL}\" class=\"h-200 w-full\" alt=\"\" />\n        <ul class=\"flex-space p-4+20 fs-12\" >\n            ${list.map(e => createLi(e)).join('\\n')}\n        </ul>\n    </a>`;\n}\n\nexport function render(imagesList, gallery) {\n  let html = '';\n  gallery.innerHTML = '';\n  for (const item of imagesList) {\n    html += createItem(item);\n  }\n\n  gallery.insertAdjacentHTML('beforeend', html);\n}\n","import SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImages } from './js/pixabay-api.js';\n\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { render } from './js/render-functions.js';\n\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('main');\nconst loader = document.querySelector('#loader');\n\nform.addEventListener('submit', async ev => {\n  ev.preventDefault();\n\n  const value = form.elements.image.value;\n\n  if (!value.trim()) return;\n\n  loader.style.display = '';\n  const images = await getImages(value);\n\n  //показує загрузку бо не видно(\n  // await new Promise(res => setTimeout(() => res(), 2000));\n\n  loader.style.display = 'none';\n  if (images.length == 0) {\n    gallery.innerHTML = '';\n    return iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n  }\n\n  render(images, gallery);\n\n  const lightbox = new SimpleLightbox('main a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n});\n"],"names":["url","getImages","keyword","params","createLi","title","value","createItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","e","render","imagesList","gallery","html","item","form","loader","ev","images","iziToast","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAM,2BAEL,eAAeC,EAAUC,EAAS,CACvC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAKD,OAFa,MADG,MAAM,MAAMF,EAAM,IAAMG,EAAO,SAAQ,CAAE,GAC9B,QAEf,IACd,CCfA,SAASC,EAAS,CAAE,MAAAC,EAAO,MAAAC,GAAS,CAClC,MAAO;AAAA,iCACwBD,CAAK;AAAA,oBAClBC,CAAK;AAAA,cAEzB,CAEA,SAASC,EAAW,CAClB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CAQD,MAAO;AAAA,eACML,CAAa;AAAA,oBACRC,CAAI,UAAUF,CAAY;AAAA;AAAA,cATjC,CACT,CAAE,MAAO,QAAS,MAAOG,CAAO,EAChC,CAAE,MAAO,QAAS,MAAOC,CAAO,EAChC,CAAE,MAAO,WAAY,MAAOC,CAAU,EACtC,CAAE,MAAO,YAAa,MAAOC,CAAW,CAC5C,EAMmB,IAAIC,GAAKX,EAASW,CAAC,CAAC,EAAE,KAAK;AAAA,CAAI,CAAC;AAAA;AAAA,SAGnD,CAEO,SAASC,EAAOC,EAAYC,EAAS,CAC1C,IAAIC,EAAO,GACXD,EAAQ,UAAY,GACpB,UAAWE,KAAQH,EACjBE,GAAQZ,EAAWa,CAAI,EAGzBF,EAAQ,mBAAmB,YAAaC,CAAI,CAC9C,CC7BA,MAAME,EAAO,SAAS,cAAc,MAAM,EACpCH,EAAU,SAAS,cAAc,MAAM,EACvCI,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAU,MAAME,GAAM,CAC1CA,EAAG,eAAc,EAEjB,MAAMjB,EAAQe,EAAK,SAAS,MAAM,MAElC,GAAI,CAACf,EAAM,KAAI,EAAI,OAEnBgB,EAAO,MAAM,QAAU,GACvB,MAAME,EAAS,MAAMvB,EAAUK,CAAK,EAMpC,GADAgB,EAAO,MAAM,QAAU,OACnBE,EAAO,QAAU,EACnB,OAAAN,EAAQ,UAAY,GACbO,EAAS,MAAM,CACpB,QACE,2EACF,SAAU,UAChB,CAAK,EAGHT,EAAOQ,EAAQN,CAAO,EAEL,IAAIQ,EAAe,SAAU,CAC5C,aAAc,MACd,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,CAAC"}